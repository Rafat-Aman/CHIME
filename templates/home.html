{% extends "base.html" %}
{% load socialaccount %}

{% block title %}Home · MyProject{% endblock %}

{% block content %}
  <section class="hero">
    <h1>Welcome{% if request.user.is_authenticated %}, {{ request.user.username }}{% endif %}</h1>
    <p class="lead">
      Link multiple Google accounts and see Drive storage for each on your dashboard.
      Tokens are saved, so you don’t need to reconnect after every login.
    </p>

    {% if request.user.is_authenticated %}
      <div class="actions">
        <a class="btn" href="{% url 'dashboard' %}">Go to Dashboard</a>
        <a class="btn-outline" href="{% url 'profile' %}">View Profile</a>
      </div>
    {% else %}
      <div class="actions">
        <a class="btn" href="{% url 'account_login' %}">Login</a>
        <a class="btn-outline" href="{% url 'register' %}">Create account</a>
        {% if has_google_app %}
          <a class="btn-google" href="{% provider_login_url 'google' %}">
            <span class="g-icon" aria-hidden="true"></span> Sign in with Google
          </a>
        {% endif %}
      </div>

      {% if not has_google_app %}
        <p class="note">
          Google sign-in isn’t configured yet. In <strong>/admin</strong>, set:
          <em>Sites → 127.0.0.1:8000</em> and <em>Social applications → Google</em>.
        </p>
      {% endif %}
    {% endif %}
  </section>
{% endblock %}
